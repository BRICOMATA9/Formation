"use strict";!function(){if(0<document.querySelectorAll("[ct-app]").length){var r=function(e){var t=document.createElement("link");Object.keys(e).forEach(function(o){t.setAttribute(o,e[o])}),document.head.appendChild(t)},d=function(o){o=o||{};for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var r in t instanceof Array&&(o=[]),t)t.hasOwnProperty(r)&&("object"==typeof t[r]?o[r]=d(o[r],t[r]):o[r]=t[r])}return o},l=window.CTStore&&window.CTStore.dataSource&&window.CTStore.dataSource.clientID?window.CTStore.dataSource.clientID:"";window.CTStore&&"object"==typeof window.CTStore||(window.CTStore={}),window.CTStore.config&&"object"==typeof window.CTStore.config||(window.CTStore.config={}),window.CTStore.dataSource&&"object"==typeof window.CTStore.dataSource||(window.CTStore.dataSource={}),window.CTStore=d({config:{OTA:{clientName:"odigeo",jsonURL:"//otageo.cartrawler.com/cartrawlerota/json",jsonhttpsURL:"//otasecure.cartrawler.com/cartrawlerpay/json",jsonResURL:"//otares.cartrawler.com/cartrawlerota/json",logURL:"//ct-errs.cartrawler.com/${env}log",target:"Production",environment:"production"},urls:{logging:"//ct-errs.cartrawler.com/${env}log",tagging:"//tag${env}.cartrawler.com",rentals:{voucher:"http://www.cartrawler.com/res/voucher.php"}},breakpoints:{smallPhone:"479px",bigPhoneMin:"480px",bigPhoneMax:"767px",phone:"767px",tabletMin:"768px",tabletMax:"1024px",laptopMin:"1025px",laptopMax:"1199px",desktop:"1025px",bigDesktop:"1200px"},startTime:+new Date,iframe:{active:!1,targetOrigin:"*"},device:void 0},dataSource:{defaultLanguage:"EN"}},window.CTStore),window.CTError=function(o,e,t,r,n){var a=document.getElementById("ct_error")?document.getElementById("ct_error"):document.createElement("img");a.id="ct_error",a.style.display="none",t=t||"1.2.7".replace(/\D/g,""),a.src=window.CTStore.config.OTA.logURL+"?app="+r+"&ver=2.31.0-"+t+"&lvl=error&action=LOADER&subAction="+(o||"")+"&clientID="+l+"&target="+window.CTStore.config.target+"&url="+window.location.protocol+window.location.host+window.location.pathname+window.location.search+"&desc="+encodeURIComponent(n),document.body.appendChild(a)};try{var e="//cdn.polyfill.io/v2/polyfill.min.js?features=default,es6,Array.prototype.includes,Object.entries,Object.values,Element.prototype.dataset",t=(window.CTStore.config.appURL||"//ajaxgeo.cartrawler.com/smartblock/2.31.0")+"/polyfill.min.js",w=function(o,e){var t=(new Date).getTime();o.onload=function(){this.onerror=this.onload=null,e(null,o,(new Date).getTime()-t)},o.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),o,(new Date).getTime()-t)}},s=function(o,e){var t=(new Date).getTime();o.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||(this.onreadystatechange=null,e(null,o,(new Date).getTime()-t))}},n=function(){return/(MSIE\s?(\d+)(?:\.(\d+))?|Trident\/7\.0)/i.test(window.navigator.userAgent)},g=function(n,a,i,c){if(c=c||0,n)if(a){if(d(window.CTStore.config,{appURL:window.CTStore.config.appURL||"//ajaxgeo.cartrawler.com/smartblock/"+n+"/",baseURL:window.CTStore.config.baseURL||"//ajaxgeo.cartrawler.com/smartblock/odigeo/"+a+"/",OTA:{version:n+"-"+a.replace(/\D/g,"")}}),window.CTStore.config.device){r({rel:"preload",href:window.CTStore.config.baseURL+"app-"+window.CTStore.config.device+".js",as:"script"}),r({rel:"preload",href:window.CTStore.config.baseURL+"app-"+window.CTStore.config.device+".css",as:"style"});var o=window.CTStore.dataSource.language||window.CTStore.dataSource.defaultLanguage;o&&r({rel:"preload",href:window.CTStore.config.baseURL+"langs/"+window.CTStore.config.device+".smartblock/"+o.toLowerCase()+".json",as:"fetch",crossorigin:"anonymous"})}var e=document.createElement("script");e.src=window.CTStore.config.appURL+"app.widget.js";var t=function(o,e,t){if(o){var r="UNKNOWN";return"function"==typeof o.toString&&(r=o.toString()+" Took "+t+"ms."),void(c<=2?(++c,window.CTError("ENGINELOAD: application retry attempt",l,"1.2.7","CTSB-V2.0","Platform: "+navigator.platform+". UA: "+navigator.userAgent+". Retry attempt: "+c+". Msg: "+r),setTimeout(function(){g(n,a,i,c)},500)):window.CTError("ENGINELOAD: application failed",l,"1.2.7","CTSB-V2.0","Platform: "+navigator.platform+". UA: "+navigator.userAgent+". Loading default: "+n+". Msg: "+r))}};("onload"in e?w:s)(e,t),e.onload||w(e,t),document.body.appendChild(e)}else window.CTError("ENGINELOAD: missing minVersion identifier",l,"1.2.7","CTSB-V2.0","Platform: "+navigator.platform+". UA: "+navigator.userAgent);else window.CTError("ENGINELOAD: missing version identifier",l,"1.2.7","CTSB-V2.0","Platform: "+navigator.platform+". UA: "+navigator.userAgent)};["//tag-sb.cartrawler.com","//otageo.cartrawler.com","//cdn.cartrawler.com","//ota-cars.imgix.net","//cdn.polyfill.io"].forEach(function(o){r({rel:"dns-prefetch preconnect",href:o})}),"westjet"===window.CTStore.config.OTA.clientName&&window.CTSmartblockApp&&(delete window.CTSmartblockApp,window.ctAngular?delete window.ctAngular:delete window.angular),a=function(){if("string"==typeof window.CTStore.config.mode&&"dev"===window.CTStore.config.mode.toLowerCase())g("2.31.0","1.2.7",!1);else{var o=document.createElement("script");o.setAttribute("src","//otageo.cartrawler.com/cartrawlerota/ctloader?action=version&clientId="+l+"&engine=SB2.0&stream=odigeo"),o.setAttribute("type","text/javascript");var e=function(o,e,t){if(o){var r="UNKNOWN";return"function"==typeof o.toString&&(r=o.toString()+" Took "+t+"ms."),window.CTError("ABSERVICE: failed.",l,"1.2.7","CTSB-V2.0","Platform: "+navigator.platform+". UA: "+navigator.userAgent+". Loading default: odigeo/1.2.7. Msg: "+r),void g("2.31.0","1.2.7",!1)}if(window.CTABVersion){var n=window.CTABVersion,a=window.CTABMinVersion;if(window.CTABCallback)try{window.CTABCallback()||(n="1.2.7")}catch(o){window.CTError("ABSERVICE: CTABCallback error",l,a,"CTSB-V2.0","Error executing CTABCallback: "+o),n=window.CTABVersion||"1.2.7"}g(n,a,"1.2.7"!==n)}else window.CTError("ABSERVICE: invalid response.",l,"1.2.7","CTSB-V2.0","Platform: "+navigator.platform+". UA: "+navigator.userAgent+". Loading default: odigeo/1.2.7"),g("2.31.0","1.2.7",!1)};("onload"in o?w:s)(o,e),o.onload||w(o,e),document.body.appendChild(o)}},i=1,(c=function(o){!function(o,e,t){try{var r,n=document.createElement("script"),a=!(n.type="text/javascript"),i=function(){clearTimeout(r),!a&&e&&(a=!0,e())},c=function(o){clearTimeout(r),!a&&t&&(a=!0,t(o))};r=setTimeout(function(){c("script load timeout")},3e3),n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,i())}:(n.onload=function(){i()},n.onerror=function(){c("script loading error: "+o)}),n.src=o,document.getElementsByTagName("head")[0].appendChild(n)}catch(o){c("loadScript function error")}}(o,a,function(o){i<=4?c(2<++i||n()?t:e):(a(),window.CTError("POLYFILL: could not load polyfill, "+o,l,"1.2.7","CTSB-V2.0","Platform: "+navigator.platform+". UA: "+navigator.userAgent))})})(n()?t:e)}catch(o){try{window.CTError("ENGINELOAD: Smartblock loader failed.",l,"1.2.7","CTSB-V2.0","Error name: "+o.name+". Error message: "+o.message)}catch(o){}}}else try{window.CTError("ENGINELOAD: Missing configuration settings.")}catch(o){}var a,i,c}();